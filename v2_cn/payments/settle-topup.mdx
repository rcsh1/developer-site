---
title: "ç»“ç®—"
lang: "zh-hans"
description: ""
---

æ‚¨å¯ä»¥é€šè¿‡ Payment API æˆ– Payment Management App å¯¹å……å€¼æ¨¡å¼ä¸‹çš„å•†æˆ·ä½™é¢æˆ–å¼€å‘è€…ä½™é¢è¿›è¡Œç»“ç®—ã€‚æ‚¨å¯ä»¥å‚è€ƒ[é‡‘é¢å®šä¹‰ä¸ä½™é¢è®¡ç®—è¯´æ˜](/v2_cn/payments/amounts-and-balances)è·å–æ›´å¤šå…³äºå•†æˆ·ä½™é¢å’Œå¼€å‘è€…ä½™é¢çš„è¯´æ˜ã€‚

## ç»“ç®—æ–¹å¼å’Œèµ„é‡‘æ¥æº

### ç»“ç®—æ–¹å¼

* **åŠ å¯†è´§å¸è½¬è´¦**ï¼ˆ`Crypto`ï¼‰ï¼šç›´æ¥å°†èµ„é‡‘è½¬åˆ°å·²åœ¨ Cobo å½•å…¥çš„å¤–éƒ¨åŠ å¯†è´§å¸åœ°å€
* **æ³•å¸å‡ºé‡‘**ï¼ˆ`OffRamp`ï¼‰ï¼šå°†åŠ å¯†è´§å¸å…‘æ¢ä¸ºæ³•å¸å¹¶è½¬å…¥æ‚¨åœ¨ Cobo å½•å…¥çš„é“¶è¡Œè´¦æˆ·

### èµ„é‡‘æ¥æº

* **å•†æˆ·ä½™é¢ç»“ç®—**ï¼ˆ`Merchant`ï¼‰ï¼šä»æŒ‡å®šå•†æˆ·çš„ä½™é¢ä¸­æ‰£é™¤ç»“ç®—é‡‘é¢ã€‚æ‚¨å¯ä»¥åœ¨ä¸€ä¸ªç»“ç®—è¯·æ±‚ä¸­ç»“ç®—å¤šä¸ªå•†æˆ·çš„ä½™é¢ã€‚
* **å¼€å‘è€…ä½™é¢ç»“ç®—**ï¼ˆ`Psp`ï¼‰ï¼šä»æ‚¨çš„å¼€å‘è€…ä½™é¢ä¸­æ‰£é™¤ç»“ç®—é‡‘é¢

## æ¥å£è°ƒç”¨æµç¨‹

### 1. æŸ¥è¯¢å¯ç»“ç®—ä½™é¢

è°ƒç”¨ [Get withdrawable balances](/v2/api-references/payment/get-withdrawable-balances) æŸ¥è¯¢æŒ‡å®šå•†æˆ·ä½™é¢æˆ–å¼€å‘è€…ä½™é¢ï¼Œç¡®å®šæ‚¨å¯ä»¥ç»“ç®—çš„æœ€å¤§é‡‘é¢ã€‚å……å€¼æ¨¡å¼ä¸‹ï¼Œæ‚¨éœ€è¦å°†`acquiring_type` å­—æ®µè®¾ç½®ä¸º `TopUp`ã€‚

API è¿”å›ä»¥ä¸‹ä¸¤ä¸ªå…³é”®ä½™é¢å­—æ®µï¼š

- `available_balance`ï¼šå¯ç»“ç®—ä½™é¢ï¼Œå³å·²è¾¾åˆ°[å½’é›†é˜ˆå€¼](/v2_cn/payments/glossary#sweep-thresholdï¼ˆå½’é›†é˜ˆå€¼ï¼‰)ä¸”å¯ç«‹å³ç”¨äºç»“ç®—çš„èµ„é‡‘
- `total_balance`ï¼šæ€»ä½™é¢ï¼ŒåŒ…æ‹¬å¯ç»“ç®—ä½™é¢å’Œæœªè¾¾åˆ°å½’é›†é˜ˆå€¼çš„èµ„é‡‘

å½“ `available_balance` å°äº `total_balance` æ—¶ï¼Œè¯´æ˜éƒ¨åˆ†èµ„é‡‘å°šæœªè¾¾åˆ°å½’é›†é˜ˆå€¼ã€‚æ‚¨æœ‰ä¸¤ç§å¤„ç†æ–¹å¼ï¼š

- ç­‰å¾…è¯¥åœ°å€ä¸Šçš„ä½™é¢å¢åŠ è‡³å½’é›†é˜ˆå€¼ã€‚
- è°ƒç”¨ [Create forced sweep](/v2/api-references/payment/create-forced-sweep) è¿›è¡Œå¼ºåˆ¶å½’é›†ï¼šCobo ä¼šç«‹å³å°†æœªè¾¾åˆ°å½’é›†é˜ˆå€¼çš„èµ„é‡‘å½’é›†åˆ°å½’é›†åœ°å€ã€‚å½’é›†å®Œæˆåï¼Œæ‚¨å¯ä»¥å°†è¿™éƒ¨åˆ†èµ„é‡‘ç”¨äºç»“ç®—ã€‚

### 2. åˆ›å»ºç»“ç®—è¯·æ±‚

è°ƒç”¨ [Create settlement request](/v2/api-references/payment/create-settlement-request) åˆ›å»ºç»“ç®—è¯·æ±‚ã€‚è¯·æ±‚ä¸­çš„å…³é”®å‚æ•°åŒ…æ‹¬ï¼š

#### åŸºç¡€å‚æ•°
* `request_id`ï¼šæ‚¨æä¾›çš„å”¯ä¸€è¯·æ±‚ IDï¼Œç”¨äºè·Ÿè¸ªç»“ç®—è¯·æ±‚
* `acquiring_type`ï¼šæ”¶å•æ¨¡å¼ã€‚å……å€¼æ¨¡å¼ä¸‹ï¼Œæ‚¨éœ€è¦å°†è¯¥å­—æ®µè®¾ç½®ä¸º `TopUp`
* `settlement_type`ï¼šé€‰æ‹©èµ„é‡‘æ¥æº
  - `Merchant`ï¼šä»å•†æˆ·ä½™é¢ä¸­æ‰£é™¤ç»“ç®—é‡‘é¢ã€‚
  - `Psp`ï¼šä»å¼€å‘è€…ä½™é¢ä¸­æ‰£é™¤ç»“ç®—é‡‘é¢ã€‚é€‚ç”¨äºç»“ç®—å¼€å‘è€…è‡ªèº«çš„èµ„é‡‘ï¼Œå¦‚æ‰‹ç»­è´¹ç­‰ã€‚
* `payout_channel`ï¼šé€‰æ‹©ç»“ç®—æ–¹å¼
  - `Crypto`ï¼šåŠ å¯†è´§å¸è½¬è´¦ï¼Œç›´æ¥å°†èµ„é‡‘è½¬åˆ°å·²å½•å…¥çš„å¤–éƒ¨åŠ å¯†è´§å¸åœ°å€
  - `OffRamp`ï¼šæ³•å¸å‡ºé‡‘ï¼Œå°†åŠ å¯†è´§å¸å…‘æ¢ä¸ºæ³•å¸å¹¶è½¬å…¥å·²å½•å…¥çš„é“¶è¡Œè´¦æˆ·

#### ç»“ç®—è¯¦æƒ…å‚æ•°ï¼ˆ`settlements` æ•°ç»„ï¼‰

å–å†³äºèµ„é‡‘æ¥æºå’Œç»“ç®—æ–¹å¼çš„ä¸åŒï¼Œæ‚¨éœ€è¦æŒ‡å®šä¸åŒçš„å‚æ•°ç»„åˆã€‚

| èµ„é‡‘æ¥æº | ç»“ç®—æ–¹å¼ | å¿…éœ€å‚æ•° |
|---------|---------|---------|
| **å•†æˆ·ä½™é¢** | åŠ å¯†è´§å¸è½¬è´¦ | `merchant_id`ã€`amount`ã€`token_id`ã€`crypto_address_id` |
| **å•†æˆ·ä½™é¢** | æ³•å¸å‡ºé‡‘ | `merchant_id`ã€`amount`ã€`currency`ã€`bank_account_id` |
| **å¼€å‘è€…ä½™é¢** | åŠ å¯†è´§å¸è½¬è´¦ | `amount`ã€`token_id`ã€`crypto_address_id` |
| **å¼€å‘è€…ä½™é¢** | æ³•å¸å‡ºé‡‘ | `amount`ã€`currency`ã€`bank_account_id` |

**å‚æ•°è¯´æ˜ï¼š**
- `merchant_id`ï¼šå•†æˆ· IDï¼Œå¯é€šè¿‡ `settlements` æ•°ç»„æŒ‡å®šå¤šä¸ªå•†æˆ·
- `amount`ï¼šç»“ç®—é‡‘é¢ï¼ˆåŠ å¯†è´§å¸æ•°é‡æˆ–æ³•å¸é‡‘é¢ï¼‰
- `token_id`ï¼šåŠ å¯†è´§å¸ IDï¼ˆå¦‚ `ETH_USDT`ã€`TRON_USDT`ï¼‰
- `crypto_address_id`ï¼šç›®æ ‡åŠ å¯†è´§å¸åœ°å€ IDï¼Œå¯è°ƒç”¨ [List crypto addresses](/v2/api-references/payment/list-crypto-addresses) è·å–
- `currency`ï¼šæ³•å¸å¸ç§ï¼ˆç›®å‰ä»…æ”¯æŒ `USD`ï¼‰
- `bank_account_id`ï¼šç›®æ ‡é“¶è¡Œè´¦æˆ· IDï¼Œå¯è°ƒç”¨ [List all bank accounts](/v2/api-references/payment/list-all-bank-accounts) è·å–

### 3. å®ŒæˆäºŒæ¬¡ç¡®è®¤ã€é£æ§å®¡æ ¸åŠäº¤æ˜“ç­¾å

åœ¨åˆ›å»ºç»“ç®—è¯·æ±‚åï¼ŒåŸºäºæ‚¨çš„é’±åŒ…ç±»å‹ã€æäº¤æ–¹å¼å’Œé£æ§è®¾ç½®ï¼Œéœ€è¦å®Œæˆä»¥ä¸‹æ“ä½œï¼š

- äºŒæ¬¡ç¡®è®¤ï¼šå¦‚æ‚¨é€šè¿‡ Payment Management App åˆ›å»ºåŠ å¯†è´§å¸å‡ºé‡‘çš„ç»“ç®—è¯·æ±‚ï¼Œåˆ™éœ€è¦åœ¨ Cobo Guard ä¸Šç¡®è®¤è¯¥ç»“ç®—è¯·æ±‚ã€‚
- é£æ§å®¡æ ¸ï¼šå¦‚æœæ‚¨è®¾ç½®äº†äº¤æ˜“é£æ§ï¼Œåˆ™å¯èƒ½éœ€è¦å®¡æ ¸äººåœ¨ Cobo Guard ä¸Šæ‰¹å‡†è¯¥ç»“ç®—è¯·æ±‚ã€‚
- äº¤æ˜“ç­¾åï¼šå¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ MPC é’±åŒ…ï¼Œåˆ™éœ€è¦ç§»åŠ¨ç«¯ç­¾åäººæˆ–æœåŠ¡ç«¯ç­¾åäººç­¾åï¼Œæ–¹å¯æœ€ç»ˆå®Œæˆä»æ‚¨çš„é’±åŒ…æå¸çš„æ“ä½œã€‚ç³»ç»Ÿå°†æ ¹æ®åœ¨çº¿çŠ¶æ€å’Œå…¶ä»–æ¡ä»¶è‡ªåŠ¨é€‰æ‹©ä¸€ä¸ªç­¾åäººæ¥ç­¾ç½²äº¤æ˜“ã€‚æ‚¨éœ€è¦ç¡®ä¿è‡³å°‘æœ‰ä¸€ä¸ªç­¾åäººåœ¨çº¿ã€‚äº¤æ˜“å°†ä¿æŒ Pending çŠ¶æ€ï¼Œç›´åˆ°æ”¶åˆ°å¿…è¦çš„ç­¾åã€‚æ‚¨å¯ä»¥é€šè¿‡ Cobo Portal æŸ¥çœ‹ç­¾åäººæ˜¯å¦åœ¨çº¿ï¼š
   1. ç™»å½• Cobo Portalã€‚
      - å¼€å‘ç¯å¢ƒï¼šhttps://portal.dev.cobo.com/login
      - ç”Ÿäº§ç¯å¢ƒï¼šhttps://portal.cobo.com/login
   2. ç‚¹å‡» <img src="/v2_cn/images/guides/wallets-icon.svg" className="icon"></img> > **MPC é’±åŒ…**ã€‚
   3. é€‰æ‹©æ‚¨çš„ Vaultï¼Œç„¶åç‚¹å‡»å³ä¸Šè§’çš„ <img src="/v2_cn/images/guides/manage-key-share-group.svg" className="icon"></img> å›¾æ ‡ã€‚
   4. åœ¨**ç§é’¥åˆ†ç‰‡ç®¡ç†**é¡µé¢ï¼Œæ‰¾åˆ°æ‚¨çš„ç§é’¥åˆ†ç‰‡æŒæœ‰è€…ç»„ï¼Œå¹¶æŸ¥çœ‹æ¯ä¸ªç§é’¥åˆ†ç‰‡æŒæœ‰è€…æ—è¾¹çš„çŠ¶æ€æŒ‡ç¤ºå™¨ï¼š
      - ğŸŸ¢ ç»¿ç‚¹ï¼šç­¾åäººåœ¨çº¿å¹¶å‡†å¤‡ç­¾ç½²äº¤æ˜“
      - æ— ç»¿ç‚¹ï¼šç­¾åäººç¦»çº¿ï¼Œæ— æ³•ç­¾ç½²äº¤æ˜“ã€‚

    <img src="/v2_cn/images/guides/main-group-active.png" className="screenshot_modal" alt="å¯†é’¥ä»½é¢ç®¡ç†é¡µé¢æ˜¾ç¤ºç­¾åäººçŠ¶æ€"/>

### 4. è·Ÿè¿›ç»“ç®—çŠ¶æ€

* **æŸ¥è¯¢ç»“ç®—è¯¦æƒ…**ï¼šè°ƒç”¨ [Get settlement request information](/v2/api-references/payment/get-settlement-request-information) æŸ¥è¯¢å•ä¸ªç»“ç®—è¯·æ±‚è¯¦æƒ…ï¼Œæˆ–è°ƒç”¨ [List all settlement requests](/v2/api-references/payment/list-all-settlement-requests) æŸ¥è¯¢æ‰€æœ‰ç»“ç®—è¯·æ±‚
* **å®æ—¶çŠ¶æ€æ›´æ–°**ï¼šç›‘å¬ `payment.settlement.status.updated` äº‹ä»¶ï¼Œè·å–ç»“ç®—çŠ¶æ€çš„å®æ—¶æ›´æ–°

## è°ƒç”¨ç¤ºä¾‹

ä»¥ä¸‹ä¸ºè°ƒç”¨ [Create settlement request](/v2/api-references/payment/create-settlement-request) ç»“ç®—å•†æˆ·ä½™é¢å¹¶è¿›è¡ŒåŠ å¯†è´§å¸è½¬è´¦çš„ç¤ºä¾‹ä»£ç ã€‚

<Accordion title="Sample code in Python">
```py
from cobo_waas2 import PaymentApi, ApiClient, Configuration, AcquiringType, \
    CreateSettlementRequestRequest, PayoutChannel, SettlementType, CreateSettlement

# See configuration.py for a list of all supported configurations.
configuration = Configuration(
    # Replace `<YOUR_PRIVATE_KEY>` with your private key
    api_private_key="<YOUR_PRIVATE_KEY>",
    # Select the development environment. To use the production environment, change the URL to https://api.cobo.com/v2.
    host="https://api.dev.cobo.com/v2",
)
# Enter a context with an instance of the API client
with ApiClient(configuration) as api_client:
    # Create an instance of the API class
    api_instance = PaymentApi(api_client)

    try:
        settlement_request = CreateSettlementRequestRequest(
            request_id="<YOUR_REQUEST_ID>",
            acquiring_type=AcquiringType.TOPUP,
            payout_channel=PayoutChannel.CRYPTO,
            settlement_type=SettlementType.MERCHANT,
            settlements=[
                CreateSettlement(
                    merchant_id="<YOUR_MERCHANT_ID>",
                    token_id="TRON_USDT",
                    crypto_address_id="<YOUR_CRYPTO_ADDRESS_ID>",
  			        amount="<YOUR_SETTLEMENT_AMOUNT>",
                    )])
        settlement = api_instance.create_settlement_request(
            create_settlement_request_request=settlement_request)
        print(settlement)
    except Exception as e:
        print("Exception when calling PaymentApi->create_settlement_request: %s\n" % e)
```
</Accordion>

<Accordion title="Sample code in Java">
```java
import com.cobo.waas2.ApiClient;
import com.cobo.waas2.ApiException;
import com.cobo.waas2.Configuration;
import com.cobo.waas2.Env;
import com.cobo.waas2.api.PaymentApi;
import com.cobo.waas2.model.*;

import java.util.ArrayList;
import java.util.List;


public class Example {
    public static void main(String[] args) {
        ApiClient defaultClient = Configuration.getDefaultApiClient();
        // Select the development environment. To use the production environment, replace `Env.DEV` with
        // `Env.PROD
        defaultClient.setEnv(Env.DEV);

        // Replace `<YOUR_PRIVATE_KEY>` with your private key
        defaultClient.setPrivKey("<YOUR_PRIVATE_KEY>");

        PaymentApi apiInstance = new PaymentApi(defaultClient);

        try {
            CreateSettlement create_settlement = new CreateSettlement();
            create_settlement.setTokenId("<TRON_USDT>");
            create_settlement.setMerchantId("<YOUR_MERCHANT_ID>");
  	        create_settlement.setAmount("<YOUR_SETTLEMENT_AMOUNT>");
            create_settlement.setCryptoAddressId("<YOUR_CRYPTO_ADDRESS_ID>");
            List<CreateSettlement> settlements = new ArrayList<>();
            settlements.add(create_settlement);

            CreateSettlementRequestRequest createSettlementRequestRequest = new CreateSettlementRequestRequest();
            createSettlementRequestRequest.setRequestId("<YOUR_REQUEST_ID>");
            createSettlementRequestRequest.setSettlementType(SettlementType.MERCHANT);
            createSettlementRequestRequest.setPayoutChannel(PayoutChannel.CRYPTO);
            createSettlementRequestRequest.setAcquiringType(AcquiringType.TOPUP);
            createSettlementRequestRequest.setSettlements(settlements);
            Settlement settlement = apiInstance.createSettlementRequest(createSettlementRequestRequest);

            System.out.println(settlement);
        } catch (ApiException e) {
            System.err.println("Exception when calling PaymentApi#createSettlementRequest");
        }
    }
}
```
</Accordion>
<Tip>æ¬¢è¿æ‚¨[æäº¤åé¦ˆ](https://forms.zohopublic.com/cobo/form/DocumentFeedbackForm/formperma/QvLOhxJv1_JMsJ-1dleZ8Itb_7rzN-LtgvsDdxosoVI)æ¥å¸®åŠ©æ”¹è¿›æˆ‘ä»¬çš„æ–‡æ¡£ï¼</Tip>